class S4SBase extends HTMLElement{constructor(){super(),this.elements={}}init(e){this.html=this.innerHTML.trim(),this.innerHTML="",this.appendTemplate(e),this.setSlotContent(),this.setElements()}appendTemplate(e,t){const n=t||this;if(e){const t=document.createElement("template");return t.innerHTML=e,n.appendChild(document.importNode(t.content,!0)),n.lastElementChild}return n}setSlotContent(){this.querySelector(".slot-content")&&this.html&&(this.querySelector(".slot-content").innerHTML=this.html)}setElements(e){const t=e||this;t.elements=t.elements||{};const n=t.querySelectorAll("[element]");for(let e=0;e<n.length;e++){const s=n[e],i=s.getAttribute("element").replace(/-([\w]{1})/gi,e=>e.replace("-","").toUpperCase());t.elements[i]=s;const l=t.getAttribute(i)||t.getAttribute(s.getAttribute("element"));if(l)switch(s.tagName){case"IMG":s.src=l;break;default:s.innerText=l}}}getParentElement(e,t){for(;e.parentElement;){if(e.classList.contains(t)||e.tagName===t.toUpperCase())return e;e=e.parentElement}}publish(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}subscribe(e,t){window.addEventListener(e,t)}httpRequest(e,t,n){fetch(e,t).then(n)}}