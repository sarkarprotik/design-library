"use strict";var flysasLibrary=window.flysasLibrary||{};flysasLibrary.market=flysasLibrary.market||function(e,a){for(var t,n,r=["/onboard"],i=!1,o="lu",s="en",l={se:"sv",no:"no",dk:"da",fi:"en"},g=a.hostname.match(/^.+\.sas\.(se|no|dk|fi)/gi),c=a.hostname.match(/^.+\.flysas\.com/gi),u=a.pathname.match(/^\/[a-z]{2}-[a-z]{2}(\/|$)/g),d=!!a.pathname.match(/^\/en(\/|$)/g),m=0;m<r.length;m++)i=i||new RegExp(r[m],"i").test(a.pathname);function f(){var e;return g?(t=g[0].replace(/.+\.sas\./gi,""),n=l[t],d&&(n="en")):c&&d||!u?(t=o,n=s):u&&(e=u[0].split("-"),t=(e[0]||"").replace("/",""),n=(e[1]||"").replace("/","")),i?{country:"se",language:"en"}:{country:t||o,language:n||s}}return e.flysasMarket=f(),{getCountryAndLanguage:f}}(window,(document,window.location)),window.flysasLibrary=window.flysasLibrary||{},flysasLibrary.sasMarketSelector=flysasLibrary.sasMarketSelector||function(o,s){var e=flysasLibrary.market.getCountryAndLanguage(),a=e.country,n=e.language,r=((s.cookie.match(/(^|;\s)_origin=[^;$]+/gi)||[])[0]||"").split("=")[1]||"ARN",t=o.marketJson,i=s.getElementById("market-form");if(t&&i){var l=s.getElementById("market-country"),g=l.querySelector("option[value='"+a+"']"),c=s.getElementById("market-language"),u=s.getElementById("market-origin"),d=s.getElementById("market-apply-btn");g&&(g.selected=!0),f(),y(),i.addEventListener("submit",function(e){e.preventDefault()}),l.addEventListener("change",function(){f(),y()}),d.addEventListener("click",p)}function m(){var e;g=l.value;for(var a=0;a<t.length;a++)if(t[a].countryCode===g){e=t[a];break}return e}function f(){var e=m();if(e){c.innerHTML="";for(var a=0;a<e.languages.length;a++){var t=s.createElement("option");t.value=e.languages[a].languageCode,t.innerText=e.languages[a].language,t.setAttribute("data-homepath",e.languages[a].homePath),t.selected=e.languages[a].languageCode===n,c.appendChild(t)}}}function y(){var e=m();if(e){u.innerHTML="";for(var a=0;a<e.origins.length;a++){var t=s.createElement("option");t.value=e.origins[a].airportCode,t.innerText=e.origins[a].cityName,t.selected=e.origins[a].airportCode===r,u.appendChild(t)}}}function p(){var e,a,t,n,r=c[c.selectedIndex].getAttribute("data-homepath"),i=o.location.hostname.split(".")[0];i.match(/^local.+/gi)||(r=r.replace(/https?:\/\/(.+)\.(fly)?sas\.(se|no|dk|fi|com)/gi,function(e,a){return e.replace(a,i)})),e="_origin",a=u.value,t=e+"="+escape(a),(n=new Date).setDate(n.getDate()+730),t+="; expires="+n.toUTCString(),t+="; path=/",s.cookie=t,o.location.href=r}}(window,document);